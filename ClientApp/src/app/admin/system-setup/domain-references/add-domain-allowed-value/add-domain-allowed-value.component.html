<div class="titlediv">
  <table class="titletable" style="width: 100% ;">
    <caption></caption>
    <th id=""></th>
    <tr>
      <td style="width: 100%;padding-left: 8%;">
        <p class="title">
          {{isUpdatebtn? 'Update' : 'Add'}} Domain Allowed Value
        </p>
      </td>
    </tr>
  </table>
  <div class="scroll">
    <div class="middiv ">
      <form [formGroup]="AddDomainValueForm">
        <table style="width: 100%;">
          <caption></caption>
    <th id=""></th>
          <tr style="height: 18px;">
          </tr>
          <tr class="tabletr">
            <td style="width: 35%;">
              <label class="formlbl">Reference Code<span class="required_star">*</span> </label>
            </td>
            <td style="width: 65%;">
              <input type="text" class="input-default inputform" [readonly]="isUpdatebtn"
                formControlName="lookup_value_alias"
                [ngClass]="{ 'is-invalid': f.lookup_value_alias.errors  && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty) }" />
              <div
                *ngIf="f.lookup_value_alias.errors  && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty)"
                class="invalid-feedback">
                <div
                  *ngIf="f.lookup_value_alias.errors.required && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      Reference code is required.                </tr>
                  
                 </div>
                <div
                  *ngIf="f.lookup_value_alias.errors.pattern && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.reference_Code.patternMsg}}
             
                     </tr>
                </div>
                <div
                  *ngIf="f.lookup_value_alias.errors.maxlength && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon"  alt="assets/images/Icon_Error.png" src=" assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.reference_Code.maxLengthMsg}}
             
                     </tr>
               
                </div>
                <div
                  *ngIf="f.lookup_value_alias.errors.minlength && (AddDomainValueForm.controls.lookup_value_alias.touched || AddDomainValueForm.controls.lookup_value_alias.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.reference_Code.minLengthMsg}}
             
                     </tr>
                </div>
              </div>
            </td>
          </tr>
          <tr style="height: 18px;">
          </tr>
          <tr class="tabletr">
            <td style="width: 35%;">
              <label class="formlbl">Name<span class="required_star">*</span> </label>
            </td>
            <td style="width: 65%;">
              <input type="text" class="input-default inputform" formControlName="lookup_value_name"
                [ngClass]="{ 'is-invalid': f.lookup_value_name.errors  && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)}" />
              <div
                *ngIf="f.lookup_value_name.errors  && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)"
                class="invalid-feedback">
                <div
                  *ngIf="f.lookup_value_name.errors.required && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      Name is required.             
                     </tr>
                  
                  
                  </div>
                <div
                  *ngIf="f.lookup_value_name.errors.pattern && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.domainValueName.patternMsg}}          
                     </tr>
                </div>
                <div
                  *ngIf="f.lookup_value_name.errors.maxlength && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.domainValueName.maxLengthMsg}}
                    </tr>
                </div>
                <div
                  *ngIf="f.lookup_value_name.errors.minlength && (AddDomainValueForm.controls.lookup_value_name.touched || AddDomainValueForm.controls.lookup_value_name.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.domainValueName.minLengthMsg}}
                    </tr>
                </div>
              </div>
            </td>
          </tr>
          <tr style="height: 18px;">
          </tr>
          <tr class="tabletr">
            <td style="width: 35%;">
              <label class="formlbl">
                <p>Description</p>
              </label>
            </td>
            <td style="width: 65%;">
              <textarea type="textarea" style="height: 120px;resize: vertical" Rows="5" class="input-default inputform"
                formControlName="lookup_value_description">
                        </textarea>
              <div
                *ngIf="f.lookup_value_description.errors  && (AddDomainValueForm.controls.lookup_value_description.touched || AddDomainValueForm.controls.lookup_value_description.dirty)"
                class="invalid-feedback">
               
                <div
                  *ngIf="f.lookup_value_description.errors.maxlength && (AddDomainValueForm.controls.lookup_value_description.touched || AddDomainValueForm.controls.lookup_value_description.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.domainValueDiscription.maxLengthMsg}}
                   </tr>
                </div>
                <div
                  *ngIf="f.lookup_value_description.errors.minlength && (AddDomainValueForm.controls.lookup_value_description.touched || AddDomainValueForm.controls.lookup_value_description.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.domainValueDiscription.minLengthMsg}}
                   </tr>
                </div>
              </div>
            </td>
          </tr>
          <tr style="height: 18px;">
          </tr>
          <tr class="tabletr">
            <td style="width: 35%;">
              <label class="formlbl">
                <p>Tax Type<span class="required_star">*</span></p>
              </label>
            </td>
            <td style="width: 65%;">
              <mat-select class="input-default" multiple disableOptionCentering disableRipple placeholder="Select"
                [(ngModel)]="tax_module_ids" panelClass="domainValueTaxDll" (openedChange)="toggleArrow()"
                formControlName="tax_module_id"  
                [ngClass]="statusddl ? 'dll ddl-ddlopen' : 'dll ddl-ddlclose'">
                <mat-option #allSelected (click)="toggleAllFileType()" [value]="0">All</mat-option>
                <mat-option (click)="tossleFileType()" *ngFor="let tax of Tax_modules" [value]="tax.lookup_value_id">{{tax.lookup_value_name}}
                </mat-option>
              </mat-select>
              <div
                *ngIf="f.tax_module_id.errors  && (AddDomainValueForm.controls.tax_module_id.touched || AddDomainValueForm.controls.tax_module_id.dirty)"
                class="invalid-feedback">
                <div
                  *ngIf="f.tax_module_id.errors.required && (AddDomainValueForm.controls.tax_module_id.touched || AddDomainValueForm.controls.tax_module_id.dirty)"
                  class="valerrortxt">
                  
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      Tax type is required.
                   </tr>
                  
                 </div>
              </div>
            </td>
          </tr>
          <tr style="height: 18px;">
          </tr>
          <tr class="tabletr">
            <td style="width: 35%;">
              <label class="formlbl">
                <p>SARS Mapping<span *ngIf="subFlag" class="required_star">*</span></p>
              </label>
            </td>
            <td style="width: 65%;">
              <input  type="text" formControlName="SARS_mapping_code" class="input-default inputform"
                [ngClass]="{ 'is-invalid': f.SARS_mapping_code.errors  && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty) }" />
              <div *ngIf="submitted && f.SARS_mapping_code.errors" class="invalid-feedback">
                <div *ngIf="f.SARS_mapping_code.errors.required" class="valerrortxt"></div>
              </div>
              <div
                *ngIf="f.SARS_mapping_code.errors  && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty)"
                class="invalid-feedback">
                <div
                  *ngIf="f.SARS_mapping_code.errors.required && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      SARS mapping is required.
                   </tr>
                  
                  </div>
                <div
                  *ngIf="f.SARS_mapping_code.errors.pattern && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.SARS_Mapping.patternMsg}}
                   </tr>
                </div>
                <div
                  *ngIf="f.SARS_mapping_code.errors.maxlength && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon" alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.SARS_Mapping.maxLengthMsg}}
                   </tr>
                </div>
                <div
                  *ngIf="f.SARS_mapping_code.errors.minlength && (AddDomainValueForm.controls.SARS_mapping_code.touched || AddDomainValueForm.controls.SARS_mapping_code.dirty)"
                  class="valerrortxt">
                  <tr>
                    <td class="valerrortxt">
                        <img class="errorIcon"  alt="assets/images/Icon_Error.png" src="./assets/images/Icon_Error.png" />
                    </td>
                    <td class="valerrortxt">
                      {{validation.validationsArray.domainAndReference.addDomainValue.SARS_Mapping.minLengthMsg}}
                   </tr>
                </div>
              </div>
            </td>
          </tr>
          <tr style="height: 18px;">
          </tr>
        </table>
      </form>
    </div>
  </div>
</div>
<table style="    padding-bottom: 10px;" class="titletable">
  <caption></caption>
    <th id=""></th>
  <tr style="width: 100%;">
    <td>
      <button class="btn-secondary-default cancelbtn" mat-raised-button
        (click)="onNoClick()"><label>Cancel</label></button>
    </td>
    <td style="float: right;">
      <button *ngIf="!isUpdatebtn"  (click)="AddDomainValue()" class="btn-primary-default savebtn" mat-raised-button [disabled]="AddDomainValueForm.invalid"
       ><label>Add</label></button>
       <button *ngIf="isUpdatebtn"  (click)="AddDomainValue()" class="btn-primary-default savebtn" mat-raised-button [disabled]="textChanged==false || AddDomainValueForm.invalid"
       ><label>Update</label></button>
    </td>
  </tr>
</table>
<ngx-loading [show]="loading" [template]="loadingTemplate"></ngx-loading>